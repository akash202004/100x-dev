# Logging, Monitoring, Alerts, and Status Pages

## ğŸ“˜ Table of Contents

* [Logging](#logging)
* [Monitoring](#monitoring)
* [Alerts](#alerts)
* [Monitoring Dashboards](#monitoring-dashboards)
* [Status Pages](#status-pages)
* [Monitoring Services](#monitoring-services)
* [New Relic Setup Guide](#new-relic-setup-guide)
* [Experiment](#experiment)
* [Dashboards](#dashboards)
* [Assignment](#assignment)
* [NRQL (New Relic Query Language)](#nrql-new-relic-query-language)

---

## ğŸªµ Logging

Logging refers to the practice of recording events, messages, or data points generated by software applications and systems. Logs can include:

* **Error Messages**: Details about errors and exceptions.
* **Access Logs**: Records of who accessed what and when.
* **Audit Logs**: Used for compliance and security tracking.

---

## ğŸ“ˆ Monitoring

Monitoring is the continuous observation of a system to ensure optimal operation. Key metrics include:

* **CPU Usage**
* **Memory Usage**
* **Disk I/O**
* **Disk Space**
* **Network Traffic**
* **Application Performance**

---

## ğŸš¨ Alerts

The goal of monitoring is to **notify users when spikes or abnormalities** occur in system metrics.

Use alerts for:

* System downtime
* High CPU or memory usage
* Increased error rates

### ğŸ›  How to Set Up Alerts

1. **Create an Alert**
2. **Attach it to a Policy**
3. **Add Notification Channels** (Email, Slack, etc.)

![Create Alert](./Images/14.webp)
![Alert Policy](./Images/15.webp)

---

## ğŸ“Š Monitoring Dashboards

Visual dashboards help monitor system health in real-time.

![Monitoring Dashboard](./Images/1.webp)

---

## ğŸŒ Status Pages

Status pages communicate real-time health to end users.

* Example: [https://status.100xdevs.com](https://status.100xdevs.com)

![Status Page](./Images/2.webp)

---

## ğŸ§° Monitoring Services

### ğŸ”’ Paid Services

* **AWS CloudWatch**
* **Datadog**
* **New Relic**

### ğŸ  Self-Hosted

* **Prometheus + Grafana + Loki**

---

## ğŸ› ï¸ New Relic Setup Guide

Weâ€™ll set up:

* Logging
* Monitoring
* Alerting

### Steps

1. **Login to New Relic**
2. **Select Stack & Machine**
   ![Stack](./Images/3.webp)
   ![Machine](./Images/4.webp)
3. **Create API Key**
   ![Key](./Images/5.webp)
4. **Run Command on Machine**
   ![Command](./Images/6.webp)

### Hosts and Observability

![Hosts](./Images/7.webp)
![Observability](./Images/8.webp)

---

## ğŸ§ª Experiment

Simulate high CPU usage:

```js
// index.js
let c = 1;
while (true) {
  if (Math.random() < 0.1) {
    c = c + 1;
  }
}
```

### Monitor It:

* On Machine:
  ![CPU Load](./Images/9.webp)
* On New Relic:
  ![CPU in NR](./Images/10.webp)

---

## ğŸ“‹ Dashboards

Create and customize dashboards:

* [New Relic Dashboards](https://one.newrelic.com/dashboards)

### Dashboard Example:

![Dashboard](./Images/11.webp)

### Add Widgets:

![Add Widget](./Images/12.webp)

---

## ğŸ§‘â€ğŸ’» Assignment

> Try to create a dashboard similar to the following:

![Assignment Dashboard](./Images/13.webp)

---

## ğŸ§¾ NRQL (New Relic Query Language)

**NRQL** is a SQL-like language used in New Relic to query app and infrastructure data.

### ğŸ” CPU Usage - All Data

```sql
SELECT average(cpuPercent) AS 'CPU used %' 
FROM SystemSample 
WHERE (entityGuid = 'xyz') 
TIMESERIES AUTO
```

![CPU Graph](./Images/16.webp)

---

### ğŸ“ˆ High CPU Usage Only

```sql
SELECT average(cpuPercent) AS 'CPU used %' 
FROM SystemSample 
WHERE (entityGuid = 'NDQ2MDY2NXxJTkZSQXxOQXwzOTczMjM4ODc0NzI4NDk0NzYz') 
AND cpuPercent > 2 
TIMESERIES AUTO
```

---

### ğŸ“Š Multiple Graphs in Same Timeline

```sql
SELECT average(transmitBytesPerSecond) AS 'Transmit bytes per second', 
       average(receiveBytesPerSecond) AS 'Receive bytes per second' 
FROM NetworkSample 
WHERE (entityGuid = 'NDQ2MDY2NXxJTkZSQXxOQXwtMzE2MTI3OTkyNzM3NDEzMTE1Mw') 
TIMESERIES AUTO
```

![Network Graph](./Images/17.webp)

---

### ğŸ§© Using Facets (Compare Multiple Hosts)

```sql
SELECT average(cpuPercent) AS 'CPU used %' 
FROM SystemSample 
WHERE entityGuid IN ('xyz', 'abc') 
FACET entityGuid 
TIMESERIES AUTO
```

![Facets Graph](./Images/18.webp)


